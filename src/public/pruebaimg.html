<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>

  <input type="text" id="campo" class="css">
  <button id="validar" class="css" >Validar</button>
  <div id="campoOK"></div>
  <div id="campo"></div>
  
  <script>
  document.getElementById('validar').addEventListener('click', valida);
  
  let contador = 1;
  function valida(){
  
          const campo = document.getElementById('campo');
              valido = document.getElementById('campoOK'),
  
  
              regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$%*&\-\_])[A-Za-z\d$@$%*&\-\_]{8,16}$/;
  
          if (regex.test(campo.value)) {
              valido.innerHTML = "válido";
  
          } else {
              valido.innerHTML = `incorrecto ${contador}`;
              console.log(`Intento: ${contador}`);
              
              if(contador === 3){
                document.getElementById('validar').disabled = 'true';
                document.getElementById('campo').disabled = 'true';
                alert('CANTIDAD DE INTENTOS EXCEDIDA, RECARGUE LA PÁGINA E INTENTE NUEVAMENTE');
                
                setTimeout(myFunction, 2000);
                campo.style.enable='true';

                alert(contador);
                contador =-1;
              }
              
              contador++;
          }
  
  }
  function myFunction() {

    const campo = document.getElementById('campo');
    document.getElementById('validar').enable = 'true';
   campo.style.enable = 'true';
    alert(contador);
  }
  </script>
  
  </body>

</html>